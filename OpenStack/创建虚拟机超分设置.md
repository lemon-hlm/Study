Openstack创建虚拟机的超分设置给nova\-scheduler的

关于超分相关设置主要有3个, 而且都是属于nova.conf配置


# 1 disk\_allocation\_ratio

虚拟磁盘到物理磁盘分配比率

默认值:

```
# disk_allocation_ratio = 0.0
```

可以设为任意正整数或者浮点数

从Ocata（15.0.0）开始，它用于影响Placement API选择的主机。请注意，使用Placement时，DiskFilter是多余的，因为Placement API已经过滤掉了DiskFilter失败的主机。

比率大于1.0将导致可用物理磁盘的超额预订，这对于不使用整个虚拟磁盘的映像创建的实例（例如稀疏或压缩图像）非常有用。

它可以设置为介于0.0和1.0之间的值，以便为实例以外的用途保留一定的磁盘百分比。

注意：这可以按计算设置，或者如果设置为0.0，将使用调度节点或计算节点上设置的值(默认为1.0)。

注意：从16.0.0 Pike版本开始，对于ironic.IronicDriver计算驱动程序，此配置选项将被忽略，并且硬编码为1.0。

# 2 ram\_allocation\_ratio

虚拟RAM到物理RAM分配比率

默认值:

```
# disk_allocation_ratio = 0.0
```

可以设为任意正整数或者浮点数

从Ocata（15.0.0）开始，它用于影响Placement API选择的主机。 请注意，使用Placement时，RamFilter是多余的，因为Placement API已经过滤掉了RamFilter失败的主机。

此配置指定可以为每个计算节点设置的RamFilter的比率。 对于AggregateRamFilter，如果未找到每个聚合设置，它将回退到此配置值。

注意：这可以按计算设置，或者如果设置为0.0，将使用调度程序节点或计算节点上设置的值(默认为1.5)。

注意：从16.0.0 Pike版本开始，对于ironic.IronicDriver计算驱动程序，此配置选项将被忽略，并且硬编码为1.0。

# 3 cpu\_allocation\_ratio

虚拟CPU与物理CPU分配比率

默认值:

```


# 5 参考

https://docs.openstack.org/ocata/config-reference/compute/config-options.html