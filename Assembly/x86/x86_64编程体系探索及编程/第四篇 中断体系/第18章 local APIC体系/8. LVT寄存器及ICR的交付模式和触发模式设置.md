- 1 delivery mode(交付模式)的设置
    - 1.1 在LVT寄存器中
    - 1.2 在ICR中
- 2 trigger模式(触发模式)的设置
    - 2.1 在LVT寄存器中
    - 2.2 在ICR中

在**power-up或reset**后，所有LVT寄存器初始化为00010000H，它们的mask位置位，指示**这些local interrupt都是屏蔽**的，**ICR并没有mask位，它的初始值为0**。

# 1 delivery mode(交付模式)的设置

## 1.1 在LVT寄存器中

① **CMCI寄存器**、**Thrrmal monitor**寄存器和**Preformance monitor**寄存器只能使用**Fixed、SMI及NMI交付模式**。

② **LINT0和LINT1寄存器**只能使用**Fixed、ExtINT及NMI交付模式**。

## 1.2 在ICR中

**delivery mode**的使用依赖于**destination shorthand模式(发送IPI消息的目标类型**)，如下表所示。

![config](./images/40.png)

# 2 trigger模式(触发模式)的设置

在**LVT LINT0和LINT1寄存器**里可以由**用户设置**中断的**触发模式**，其他LVT寄存器使用**固定的触发模式**，依赖于**delivery mode**。

## 2.1 在LVT寄存器中

① Fixed模式：LNT0和LINT1寄存器bit 15为0时使用edge触发，为1时使用level触发。

② NMI、SMI及INIT模式：固定使用edge触发模式。

③ ExtINT模式：固定使用level触发模式。

LVT **timer**和LVT **error**寄存器固定使用**edge触发模式**。

## 2.2 在ICR中

**只支持edge触发模式**，当设置为level触发时local APIC将忽略，使用edge触发模式代替。