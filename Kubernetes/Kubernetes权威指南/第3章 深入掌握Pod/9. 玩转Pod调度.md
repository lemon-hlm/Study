
<!-- @import "[TOC]" {cmd="toc" depthFrom=1 depthTo=6 orderedList=false} -->

<!-- code_chunk_output -->



<!-- /code_chunk_output -->

在Kubernetes平台上，我们**很少会直接创建一个Pod**，在大多数情况下会通过**RC**、**Deployment**、**DaemonSet**、**Job**等**控制器**完成对一组Pod副本的创建、调度及全生命周期的自动控制任务。

在**最早的Kubernetes版本**里是**没有这么多Pod副本控制器**的，**只有一个Pod副本控制器RC**（Replication Controller），这个控制器是这样设计实现的：**RC独立于所控制的Pod**，并通过**Label标签**这个松耦合关联关系**控制目标Pod实例的创建和销毁**，随着Kubernetes的发展，RC也出现了新的继任者——**Deployment**，用于更加自动地完成Pod副本的部署、版本更新、回滚等功能。

严谨地说，**RC的继任者**其实并**不是Deployment**，而是**ReplicaSet**，因为 ReplicaSet进一步**增强了 RC标签选择器的灵活性**。之前**RC的标签选择器只能选择一个标签**，而ReplicaSet拥有**集合式的标签选择器**，可以选择**多个Pod标签**，如下所示：

```yaml
selector:
  matchLabels:
    tier: frontend
  matchExpressions:
    - {key: tier, operator: In, values: [frontend]}
```

**与RC不同**，**ReplicaSet**被设计成能**控制多个不同标签的Pod副本**。一种常见的应用场景是，应用MyApp目前发布了v1与v2两个版本，用户希望MyApp的Pod副本数保持为3个，可以同时包含v1和v2版本的Pod，就可以用ReplicaSet来实现这种控制，写法如下：

