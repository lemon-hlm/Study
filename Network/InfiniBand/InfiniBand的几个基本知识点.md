**IP网络协议**如**TCP/IP**，具有**转发丢失数据包**的特性，网络不良时要**不断地确认与重发**，基于这些协议的通信也会因此变慢，极大地影响了性能。与之相比，**IB**使用基于**信任的**、**流控制**的机制来**确保连接的完整性**，数据包极少丢失。

使用**IB协议**，除非确认**接收缓存具备足够的空间**，否则**不会传送数据**。接受方在数据传输完毕之后，返回信号来标示缓存空间的可用性。通过这种办法，IB协议消除了由于原数据包丢失而带来的重发延迟，从而提升了效率和整体性能。

# 1 什么是InfiniBand网络

InfiniBand是一种网络通信协议，它提供了一种**基于交换的架构**，由**处理器节点之间**、**处理器节点**和**输入/输出节点(如磁盘或存储**)之间的**点对点双向串行链路构成！！！**。

**每个链路**都有一个**连接到链路两端的设备！！！**，这样在**每个链路两端控制传输(发送和接收**)的特性就被很好地定义和控制了。

![config](./images/5.png)

InfiniBand通过**交换机**在**节点之间**直接创建一个**私有的、受保护的通道**，进行**数据和消息的传输**，**无需CPU**参与**远程直接内存访问(RDMA**)和发送/接收由**InfiniBand适配器**管理和执行的负载。

**适配器**通过**PCI Express接口**一端连接到**CPU**，另一端通过**InfiniBand网络端口**连接到**InfiniBand子网**。与其他网络通信协议相比，这提供了明显的优势，包括更高的带宽、更低的延迟和增强的可伸缩性。