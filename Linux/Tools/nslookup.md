
<!-- @import "[TOC]" {cmd="toc" depthFrom=1 depthTo=6 orderedList=false} -->

<!-- code_chunk_output -->

- [1 nslookup作用](#1-nslookup作用)
- [2 A记录](#2-a记录)
- [3 MX记录](#3-mx记录)
- [4 NS记录](#4-ns记录)
- [5 CNAME记录](#5-cname记录)

<!-- /code_chunk_output -->

# 1 nslookup作用

nslookup用于**查询DNS的记录**，查询**域名解析是否正常**，在网络故障时用来诊断网络问题

```
[root@gerry ~]# cat /etc/resolv.conf
# Generated by NetworkManager
search localdomain
nameserver 172.16.100.2
```

```
[root@gerry ~]# nslookup
>
```

# 2 A记录

A（Address）记录指的是用来指定主机名或域名对应的IP记录。

在提示符\>后直接输入域名，可以查看该域名的A记录（也可以用set type=a指令设置）：

```
[root@gerry ~]# nslookup
> bilibili.com
Server:		172.16.100.2
Address:	172.16.100.2#53

Non-authoritative answer:
Name:	bilibili.com
Address: 106.75.240.122
>
```

# 3 MX记录

MX（mail exchanger）记录，**邮件交换记录**，它指向一个邮件服务器，用于电子邮件系统

发邮件时根据收信人的地址后缀来定位邮件服务器。

输入set type=mx，再输入域名可查询mx类型记录

```
[root@gerry ~]# nslookup
> set type=mx
> bilibili.com
Server:		172.16.100.2
Address:	172.16.100.2#53

Non-authoritative answer:
bilibili.com	mail exchanger = 5 mxbiz1.qq.com.
bilibili.com	mail exchanger = 10 mxbiz2.qq.com.

Authoritative answers can be found from:
>
```

MX perference = 10 指MX记录的优先级

# 4 NS记录

NS（nameserver）记录，用来指定改域名由那个DNS服务器来进行解析。

先输入set type=ns再输入域名

```
[root@gerry ~]# nslookup
> set type=ns
> bilibili.com
Server:		172.16.100.2
Address:	172.16.100.2#53

Non-authoritative answer:
bilibili.com	nameserver = ns3.dnsv5.com.
bilibili.com	nameserver = ns4.dnsv5.com.

Authoritative answers can be found from:
>
```

# 5 CNAME记录

cname记录是别名记录，也成为规范名字。这种记录允许将多个名字映射到同一台计算机

输入set type=cname可以查询

```
[root@gerry ~]# nslookup
> set type=cname
> bilibili.com
Server:		172.16.100.2
Address:	172.16.100.2#53

Name:	bilibili.com
Address: 106.75.240.122
```

