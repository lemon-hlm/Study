[TOC]

在阅读本节前请思考如下小问题。

- 什么时候使用**读者信号量**，什么时候使用**写者信号量**，由什么来判断？
- **读写信号量**使用的**自旋等待机制(optimistic spinning**) 是如何实现的？

上述介绍的信号量有一个明显的缺点 — 没有区分临界区的读写属性。读写锁通常允许多个线程并发地读访问临界区，但是写访问只限制于一个线程。读写锁能有效地提高并发性，在多处理器系统中允许同时有多个读者访问共享资源，但写者是排他性的，读写锁具有如下特性。

- 允许多个读者同时进入临界区，但同一时刻写者不能进入。
- 同一时刻只允许一个写者进入临界区。
- 读者和写者不能同时进入临界区。