[TOC]

# 1 为什么需要IPV6

**全球的IP地址**由一个名字叫**IANA（Internet Assigned Numbers Authority**）的机构管理，在它下面有**5个分管机构**，名字叫分别叫**AFRINIC**、**APNIC**、**ARIN**、**PIPE NCC**和**LACNIC**，他们分别负责全球**五个不同地区的IP地址分配**，中国就归**APNIC**管。

**IANA**只负责将**IP地址**分配给下面的**5个分管机构**，分管机构再负责将IP地址分配给相关地区的网络运营商或者研究机构等。

**IPv4**的长度只有**32位**，总共约42亿的地址，除去预**留的大约6亿地址**外，实际在公网中可以被使用的地址大约只有36亿，而据最新统计，世界人口已经超过了70亿，并且截至2016年，人们正在使用的智能手机数量已经超过了20亿。

截至**2011年01月31日**，IANA已经将**所有的IP地址**分配给了下面的**5个分管机构**，而到2011年04月15日，**APNIC的IP地址已经全部分配完**了，就是说，如果我们的中国电信、移动和联通的IP地址不够用的话，已经没有地方可以申请更多的IP地址了。

很明显，如果每个设备都用一个公网IP的话，IPv4早就不够用了，虽然现在用**NAT的方式**还能坚持一段时间，但终究不是长久之策，我们需要一个更大的IP地址空间。

# 2 IPV6的优点

## 2.1 更大的地址空间

名字叫IPv6，但它的长度并不是64位，而是**128位**，总的地址空间大约为3.4*10^38，一个亿是10的8次方，那么IPv6就有340万亿亿亿亿个地址（4个亿连一起），所以说给地球上的每一粒沙子分配一个IP地址不是在吹牛，是真可以。

可以参考[这篇文章](https://itsnobody.wordpress.com/2012/02/17/how-many-addresses-can-ipv6-hold/)和[这篇文章](这篇文章)，里面提到地球上所有沙滩的沙子大约有7.5*10^18粒，这个值跟IPv6的10^38相差了很多个数量级，就算加上沙漠等其它的地方，IPv6的数量也足够覆盖它。

点到点通信更方便
IPv6完全有能力为联网的每个设备分配一个公网IP，于是我们可以不再需要NAT，从而非常方便的实现点到点的直接通信。

说好处之前，先了解一下NAT的缺点：

使用了NAT之后，每次通信都要做一次NAT转换，影响性能。

处于两个不同NAT网络内部的机器不能直接通信，他们之间的通信得依赖第三方的服务器，极大的限制了网络的连通性，同时所有的数据都会被第三方所监控。

为了支持NAT，很多网络协议变得很复杂，大大增加了网络的复杂性。

没有了NAT之后，当然上面的这些缺点也就没有了，同时会带来下面这些比较直观的好处：

更方便： 想象一下，每个电脑都有公网IP，你电脑出了点问题，找我帮忙看一下，只要把你的IP给我，我就可以连上去了，而我们现在的情况是，两个人都是内网IP，没法直接访问，非得用QQ共享桌面之类的软件。

更安全： 配合点到点的加密，让网络更安全，不给第三方监听的机会； 以网络聊天为例，通过使用点到点的聊天软件，就不用担心被人监听聊天记录了；同时访问家里的摄像头不再需要经过第三方服务器，不用担心给别人看直播了。

IP配置更方便
IPv6有一个功能叫Stateless Auto Configuration，简单点说，就是可以不借助DHCP服务器实现IP地址的分配，插上网线就能上网。

