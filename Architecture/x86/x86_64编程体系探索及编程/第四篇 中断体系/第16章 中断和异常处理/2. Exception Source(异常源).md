- 1 运行错误产生的异常
- 2 由软件主动发起异常
- 3 Machine Check(机器检查)异常

可产生异常的异常源来自:

① **运行的代码产生了错误**, 从而引发异常产生

② 由**软件主动引发的异常**

③ **Machine\-Check(机器检查)引发的异常**

异常是不能被屏蔽的, 无论是执行错误还是主动引发异常, 实质上是在处理器内部引发.

这个不可屏蔽与NMI是不同的

① NMI由硬件引起, 包括: 外部NMI源, 以及local APIC与I/O APIC交付的NMI

② 对于外部NMI源可以通过de\-assert PIN方式或屏蔽LINT1的方式来屏蔽中断.

# 1 运行错误产生的异常

由**运行代码错误产生的异常**是很常见的, 在**保护模式**下我们或许会常**与\#GP(General Protected)异常**或**与\#PF(Page Fault)异常**打交道

下面情况下代码会产生运行错误.

① 代码产生了**逻辑错误**: 典型地, 除0错误产生\#DE(Divide Error)异常

② 处理器遇到**无法执行**的错误: 例如\#**UD(Invalid Opcode**)异常, 处理器遇到了不支持的指令, 它不可能得到执行

③ 代码违反了处理器的某些**保护措施**: 典型地, 如\#GP异常, \#PF异常, \#SS异常等. 这些措施是处理器为了某些管理机制而设置, 违反这些措施处理器将产生异常来提醒软件.

后面将看到这些异常有些可以恢复,有些不行.

# 2 由软件主动发起异常

软件可以使用下面指令发起异常

① **INT3指令**: 处理器遇到**INT3指令**(opcode码为0xCC)产生\#**BP(Breakpoint)断点异常！！！**

② **INTO指令**: 软件执行**INTO指令**, 处理器检测到eflags寄存器的OF标志位置位时, 将产生\#OF(Overflow)**溢出异常！！！**

③ **BOUND指令**: 软件执行BOUND指令, 处理器检测到**操作数越界**时将产生\#**BR(Bound Range)异常！！！**

# 3 Machine Check(机器检查)异常

处理器提供了对**处理器内部或外部进行检查**的机制, 当检测到错误的发生时, 处理器将产生\#MC(Machine Check)异常